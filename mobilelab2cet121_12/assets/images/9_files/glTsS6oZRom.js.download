;/*FB_PKG_DELIM*/

__d("CometTokenizerLayoutContextualStrategy.react",["CometTokenizerInternalLayoutContextualStrategy.react","CometTypeaheadHelperText.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTokenizerInternalLayoutContextualStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=["extraLayoutProps","helperText","isDisabled","label","onAbandonTypeahead_DO_NOT_USE","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onShiftTab","onTab","onUpArrow","queryString","viewRole","inputRef","selectedEntries","xstyles"],i=["viewXStyle_DO_NOT_USE"],j,k=j||d("react"),l={view:{backgroundColor:"x1jx94hy",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"xuyqlj2",minHeight:"xbktkl8",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(89),e,f,g,j,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;b[0]!==a?(E=a.extraLayoutProps,f=a.helperText,g=a.isDisabled,j=a.label,m=a.onAbandonTypeahead_DO_NOT_USE,n=a.onBackspace,o=a.onBlur,p=a.onChange,q=a.onClick,r=a.onDownArrow,s=a.onEnter,t=a.onEscape,u=a.onHighlightEntry,v=a.onOutsideClick,w=a.onPressEntry,x=a.onRemoveEntry,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,C=a.queryString,G=a.viewRole,e=a.inputRef,D=a.selectedEntries,F=a.xstyles,B=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=m,b[6]=n,b[7]=o,b[8]=p,b[9]=q,b[10]=r,b[11]=s,b[12]=t,b[13]=u,b[14]=v,b[15]=w,b[16]=x,b[17]=y,b[18]=z,b[19]=A,b[20]=B,b[21]=C,b[22]=D,b[23]=E,b[24]=F,b[25]=G):(e=b[1],f=b[2],g=b[3],j=b[4],m=b[5],n=b[6],o=b[7],p=b[8],q=b[9],r=b[10],s=b[11],t=b[12],u=b[13],v=b[14],w=b[15],x=b[16],y=b[17],z=b[18],A=b[19],B=b[20],C=b[21],D=b[22],E=b[23],F=b[24],G=b[25]);b[26]!==E?(a=E===void 0?{}:E,b[26]=E,b[27]=a):a=b[27];E=a;a=E.afterViewContent;var H=E.beforeViewContent;E=E.heroHoldTriggerDescription;var I;b[28]!==F?(I=F===void 0?{}:F,b[28]=F,b[29]=I):I=b[29];var J;if(b[30]!==I){F=I;J=F.viewXStyle_DO_NOT_USE;F=babelHelpers.objectWithoutPropertiesLoose(F,i);b[30]=I;b[31]=J;b[32]=F}else J=b[31],F=b[32];I=c("useCometTypeaheadInputRefs")(e);e=I.composedRef;I=I.inputRef;var K=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();K=K.isOpened;var L=c("useCometInternalTypeaheadState")(),M=L.activeEntries;L=L.highlightedEntry;var N=c("useCometInternalTypeaheadFetch")();N=N.isLoading;var O;b[33]!==m||b[34]!==n||b[35]!==o||b[36]!==p||b[37]!==q||b[38]!==r||b[39]!==s||b[40]!==t||b[41]!==u||b[42]!==v||b[43]!==w||b[44]!==x||b[45]!==y||b[46]!==z||b[47]!==A?(O={onAbandonTypeahead_DO_NOT_USE:m,onBackspace:n,onBlur:o,onChange:p,onClick:q,onDownArrow:r,onEnter:s,onEscape:t,onHighlightEntry:u,onOutsideClick:v,onPressEntry:w,onRemoveEntry:x,onShiftTab:y,onTab:z,onUpArrow:A},b[33]=m,b[34]=n,b[35]=o,b[36]=p,b[37]=q,b[38]=r,b[39]=s,b[40]=t,b[41]=u,b[42]=v,b[43]=w,b[44]=x,b[45]=y,b[46]=z,b[47]=A,b[48]=O):O=b[48];b[49]!==I||b[50]!==g||b[51]!==C||b[52]!==D||b[53]!==O?(m={handlers:O,inputRef:I,isDisabled:g,queryString:C,selectedEntries:D},b[49]=I,b[50]=g,b[51]=C,b[52]=D,b[53]=O,b[54]=m):m=b[54];n=c("useCometTokenizerInternalLayoutContextualStrategyHandlers")(m);b[55]!==M||b[56]!==f||b[57]!==L||b[58]!==K||b[59]!==j||b[60]!==G?(o={activeEntries:M,helperText:f,highlightedEntry:L,inputLabel:j,isOpened:K,viewRole:G},b[55]=M,b[56]=f,b[57]=L,b[58]=K,b[59]=j,b[60]=G,b[61]=o):o=b[61];p=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(o);b[62]!==J?(q=[l.view,J],b[62]=J,b[63]=q):q=b[63];b[64]!==q||b[65]!==F?(r={xstyles:babelHelpers["extends"]({},F,{viewXStyle_DO_NOT_USE:q})},b[64]=q,b[65]=F,b[66]=r):r=b[66];s=c("useCometTypeaheadLayoutStrategyStyles")(r);b[67]!==f?(t=f!=null?k.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,b[67]=f,b[68]=t):t=b[68];b[69]!==a||b[70]!==p||b[71]!==H||b[72]!==E||b[73]!==N||b[74]!==K||b[75]!==t?(u={afterViewContent:a,ariaProps:p,beforeViewContent:H,helperTextComponent:t,heroHoldTriggerDescription:E,isLoading:N,isOpened:K},b[69]=a,b[70]=p,b[71]=H,b[72]=E,b[73]=N,b[74]=K,b[75]=t,b[76]=u):u=b[76];b[77]!==e||b[78]!==n||b[79]!==f||b[80]!==g||b[81]!==j||b[82]!==B||b[83]!==C||b[84]!==s||b[85]!==D||b[86]!==u||b[87]!==G?(v=k.jsx(c("CometTokenizerInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},B,n,{extraLayoutProps:u,helperText:f,inputRef:e,isDisabled:g,label:j,queryString:C,selectedEntries:D,viewRole:G,xstyles:s})),b[77]=e,b[78]=n,b[79]=f,b[80]=g,b[81]=j,b[82]=B,b[83]=C,b[84]=s,b[85]=D,b[86]=u,b[87]=G,b[88]=v):v=b[88];return v}g["default"]=a}),98);
__d("MWChatTokenizerLayoutContextualStrategy.react",["fbt","CometTokenizerLayoutContextualStrategy.react","CurrentUser","MWXRow.react","MWXRowItem.react","MWXText.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["extraLayoutProps","xstyles"],j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useMemo,n="ChatTypeahead",o={container:{maxWidth:"x193iq5w",$$css:!0},layout:{height:"x5yr21d",width:"x10rsq8x",$$css:!0},to:{marginTop:"x14vqqas",$$css:!0},typeaheadInput:{backgroundColor:"xcrg951",boxSizing:"x9f619",display:"x1lliihq",$$css:!0},view:{backgroundColor:"xcrg951",borderTopColor:"x1exxf4d",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",flexShrink:"xs83m0k",maxHeight:"x1u5ybhk",minHeight:"x1ili444",overflowY:"x1odjw0f",width:"xi55695","@media (min-height: 1280px)_maxHeight":"x2hhus7","@media (min-height: 1280px)_minHeight":"x1tlu3db",$$css:!0}};function a(a,b){a===void 0&&(a=!1);b===void 0&&(b="root");function d(d){var e=d.extraLayoutProps,f=d.xstyles;f=f===void 0?{}:f;var g=f.viewXStyle_DO_NOT_USE;f=babelHelpers.objectWithoutPropertiesLoose(d,i);d=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var j=d.dispatchIsOpened,p=a||c("CurrentUser").isWorkUser();l(function(){p&&j(!0)},[]);d=m(function(){return{inputXStyle:[o.typeaheadInput],layoutXStyle:[o.layout],viewXStyle_DO_NOT_USE:[o.view,g]}},[g]);return k.jsxs(c("MWXRow.react"),{align:"center",paddingHorizontal:4,paddingVertical:0,spacing:12,verticalAlign:"center",xstyle:o.container,children:[k.jsx(c("MWXRowItem.react"),{verticalAlign:"top",xstyle:o.to,children:k.jsx(c("MWXText.react"),{align:"center",numberOfLines:1,type:"body3",children:h._(/*BTDS*/"\u0e16\u0e36\u0e07:")})}),k.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:k.jsx(c("CometTokenizerLayoutContextualStrategy.react"),babelHelpers["extends"]({},f,{contextualProps:{align:"start",disableAutoFlip:!0},extraLayoutProps:babelHelpers["extends"]({},e,{heroHoldTriggerDescription:p?n:null}),label:h._(/*BTDS*/"\u0e2a\u0e48\u0e07\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e16\u0e36\u0e07"),layerContext:b,xstyles:d}))})]})}d.displayName=d.name+" [from "+f.id+"]";return d}g.createMWChatTokenizerLayoutContextualStrategy=a}),226);
__d("MWXTag.react",["cr:2241","cr:6496","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["type","addOn","addOnSecondary","level"],i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(12);if(c[0]!==a){a.type;var e=a.addOn,f=a.addOnSecondary,g=a.level,i=babelHelpers.objectWithoutPropertiesLoose(a,h);e=e;f=f;g=g;i=i;c[0]=a;c[1]=e;c[2]=f;c[3]=i;c[4]=g}else e=c[1],f=c[2],i=c[3],g=c[4];if(b("cr:6496")!=null){c[5]!==e||c[6]!==f||c[7]!==i||c[8]!==g?(a=j.jsx(b("cr:6496"),babelHelpers["extends"]({addOn:e,addOnSecondary:f,level:g,type:"remove"},i)),c[5]=e,c[6]=f,c[7]=i,c[8]=g,c[9]=a):a=c[9];return a}if(b("cr:2241")!=null){c[10]!==i?(e=j.jsx(b("cr:2241"),babelHelpers["extends"]({},i)),c[10]=i,c[11]=e):e=c[11];return e}return null}g["default"]=a}),98);
__d("MWInboxTokenizerTokenStrategy.react",["MWXTag.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["isDisabled","onPress","token"],i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(13),e,f,g,i;b[0]!==a?(f=a.isDisabled,g=a.onPress,i=a.token,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i):(e=b[1],f=b[2],g=b[3],i=b[4]);b[5]!==g||b[6]!==i?(a=function(a){a.preventDefault(),g(i)},b[5]=g,b[6]=i,b[7]=a):a=b[7];a=a;var k;b[8]!==e||b[9]!==a||b[10]!==f||b[11]!==i.label?(k=j.jsx(c("MWXTag.react"),babelHelpers["extends"]({disabled:f,onPress:a,text:i.label},e)),b[8]=e,b[9]=a,b[10]=f,b[11]=i.label,b[12]=k):k=b[12];return k}g["default"]=a}),98);
__d("MWInboxNewMessage.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSResult","MDSM5CoreStyles","MWChatConnectionStatusCard.react","MWChatLightSpeedSearchTypeahead.react","MWChatSearchSurfaces","MWChatTokenizerLayoutContextualStrategy.react","MWComposerGating.react","MWInboxTokenizerTokenStrategy.react","MWInboxTrayGating","MWLogGroupThreadCreationEvent","MWOpenAndSecureThreadView.react","MWPReplyContext.react","MWPThreadPreview.react","MWPThreadThemeProvider.react","MWResponsiveLayoutConstants","MWThreadListNewMessageState.react","MWV2IsTabFocusedContext.react","MWV2NewThreadUtils","MWV2OnAuthoritativeThreadInsert","MWXSpinner.react","cr:2509","cr:5794","gkx","isTlcSearchEnabled","react","react-compiler-runtime","stylex","useCurrentRoute","useMAWMaybeRedirectComposeViewToSecureGroupThread","useMAWMaybeRedirectComposeViewToSecureOneToOneThread","useMWNavigation","useMWSearchTypeaheadViewItemIsDisabled","useMWThreadListNewMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));e=l;e.useCallback;var n=e.useContext,o=e.useEffect,p=e.useMemo,q=e.useRef,r=e.useState,s=c("gkx")("24031"),t={root:{backgroundColor:"xcrg951",display:"x78zum5",flexBasis:"x1r8uery",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",fontSize:"x6prxxf",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},searchInput:{backgroundColor:"xcrg951",boxShadow:"x1md01qi",display:"x78zum5",flexShrink:"x2lah0s",maxHeight:"xmz0i5r",minHeight:"x2lwn1j",paddingInlineStart:"x1g0dm76",paddingTop:"x1y1aw1k",zIndex:"x1vjfegm",$$css:!0},searchInputForContactsList:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",boxShadow:"x1gnnqk1",$$css:!0}},u={viewXStyle_DO_NOT_USE:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",boxShadow:"x104qc98",maxWidth:"xql6zsw",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function v(){var a=d("react-compiler-runtime").c(3),b=c("useCurrentRoute")(),e=q(b==null?"":b.url),f,g;a[0]!==b?(f=function(){e.current=b==null?"":b.url},g=[e,b],a[0]=b,a[1]=f,a[2]=g):(f=a[1],g=a[2]);o(f,g);return e}function w(a,b,e,f,g){b=b.clientThreadKey;if(b!=null&&f===g.current)return d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(b),a,function(a){return e({clientThreadKey:a.clientThreadKey,threadKey:a.threadKey,threadType:a.threadType})})}function x(a,b,e){var f=d("react-compiler-runtime").c(7),g=v(),i=d("MWThreadListNewMessageState.react").useDispatch(),l=(h||(h=c("useReStore")))(),m;f[0]!==g||f[1]!==l||f[2]!==i||f[3]!==e||f[4]!==a||f[5]!==b?(m=function(){if(a==null)return;b(!0);i({isActive:!1,type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetIsActive});var f=(j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType),h=(j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType);d("MWLogGroupThreadCreationEvent").logGroupThreadAuthoritativeCreationEvent(l,a,"web_messenger_omnipicker_create_new_group");f||h?w(l,a,e,g.current,g):e({clientThreadKey:a.clientThreadKey,threadKey:a.threadKey,threadType:a.threadType})},f[0]=g,f[1]=l,f[2]=i,f[3]=e,f[4]=a,f[5]=b,f[6]=m):m=f[6];return m}function a(a){var e=a.initialOpenChatSearchTypeahead,f=e===void 0?!0:e;e=a.startingSecureTogglePositionOn;a=(h||(h=c("useReStore")))();d("MWV2NewThreadUtils").useSyncRanking();var g=p(function(){return d("MWChatTokenizerLayoutContextualStrategy.react").createMWChatTokenizerLayoutContextualStrategy(d("MWInboxTrayGating").isInboxTrayEnabled()?f:!0,"input")},[]);e=e==="E2EEToggleOn";var k=r(e),l=k[0];k=k[1];var v=c("isTlcSearchEnabled")(),w=n(d("MWThreadListNewMessageState.react").context),y=d("MWV2NewThreadUtils").useTokens(w.entries),z=y[0],A=y[1];y=y[2];k=d("MWV2NewThreadUtils").useUpdateAreWeCreatingASecureThread(e,z,k);var B=d("MWThreadListNewMessageState.react").useDispatch(),C=q(w.isActive);o(function(){C.current=w.isActive},[w.isActive]);o(function(){return function(){C.current||B({type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.Reset})}},[B]);c("useMWThreadListNewMessage")(z);var D=r(!1),E=D[0];D=D[1];var F=c("useMWNavigation")(),G=p(function(){return function(a){return F.openInbox(a,"inboxNewMessage")}},[F]),H=d("MWV2NewThreadUtils").useOnAddToken(l,D,G,k),I=r(),J=I[0];I=I[1];var K=d("MWV2NewThreadUtils").useTokensShimmed(z,l);D=x(J,D,G);G=c("useMWSearchTypeaheadViewItemIsDisabled")(z,l);var L=c("useMAWMaybeRedirectComposeViewToSecureOneToOneThread")(a,v,z,k,I,"inboxComposeNewMessage");L=L.isCutoverInProgress;c("useMAWMaybeRedirectComposeViewToSecureGroupThread")(a,z,v,k);a=l?c("MWChatSearchSurfaces").omnipickerArmadillo:c("MWChatSearchSurfaces").omnipicker;k=m.jsxs(m.Fragment,{children:[m.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(t.searchInput,z.length===0?t.searchInputForContactsList:!1),{children:[b("cr:5794")!=null?m.jsx(b("cr:5794"),{panel:d("MWResponsiveLayoutConstants").MWLayoutPanel.MESSAGE_LIST_PANEL}):null,m.jsx("div",babelHelpers["extends"]({className:"x1iyjqo2"},{children:m.jsx(c("MWChatLightSpeedSearchTypeahead.react"),{excludedIDs:y,getIsViewItemDisabled:G,isDisabled:E,isSecure:l,layoutStategyRenderer:g,onAddToken:H,onChangeTokens:A,source:a,tokenItemRenderer:c("MWInboxTokenizerTokenStrategy.react"),tokens:z,xstyles:u})}))]})),m.jsx(c("MWChatConnectionStatusCard.react"),{}),m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k"},{children:m.jsx(c("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24})})),name:"MWInboxNewMessage",children:m.jsx(d("MWV2IsTabFocusedContext.react").MWV2IsTabFocusedContextProvider,{isFocused:!0,children:m.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:m.jsx(c("MWPThreadPreview.react"),{areWeCreatingASecureThread:l,isCutoverInProgress:L,renderThreadView:function(a){return m.jsx(c("MWOpenAndSecureThreadView.react"),{thread:a})},secureThreadToggleEnabled:e,setPreviewThread:I,tokens:K,children:J!=null?m.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:J.themeFbid,children:m.jsx(d("MWComposerGating.react").MWInboxComposerGating,{afterSendMessage:D,isPreviewThread:!0,thread:J},(j||(j=d("I64"))).to_string((v=J.clientThreadKey)!=null?v:J.threadKey))}):null})})})})]});return b("cr:2509")!=null?m.jsx(b("cr:2509"),{panel:d("MWResponsiveLayoutConstants").MWLayoutPanel.MESSAGE_LIST_PANEL,children:k}):m.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([t.root,s&&d("MDSM5CoreStyles").MDSM5CoreStyles.pageSection]),{children:k}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);